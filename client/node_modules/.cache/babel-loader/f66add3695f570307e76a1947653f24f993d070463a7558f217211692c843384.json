{"ast":null,"code":"import axios from 'axios';\nconst api = axios.create({\n  baseURL: 'http://localhost:3001/api',\n  withCredentials: true\n});\nexport const fetchSpotifyDataWithQuip = async () => {\n  var _spotifyData$data, _spotifyData$data$top;\n  const spotifyData = await api.get('/fetch-spotify-data');\n  if ((_spotifyData$data = spotifyData.data) !== null && _spotifyData$data !== void 0 && (_spotifyData$data$top = _spotifyData$data.topArtists) !== null && _spotifyData$data$top !== void 0 && _spotifyData$data$top.length) {\n    const artistNames = spotifyData.data.topArtists.map(artist => artist.name).slice(0, 5).join(', ');\n    const quipResponse = await api.post('/generate-quip', {\n      statDescription: `Your top artists are: ${artistNames}`\n    });\n    return {\n      stats: spotifyData.data,\n      quip: quipResponse.data.quip\n    };\n  }\n  return {\n    stats: spotifyData.data,\n    quip: ''\n  };\n};\nexport const fetchUserProfile = async () => {\n  const response = await api.get('/user-profile');\n  return response.data;\n};\nexport const fetchTopArtists = async () => {\n  const response = await api.get('/stats/me/artists');\n  return response.data;\n};\nexport const fetchTopTracks = async () => {\n  const response = await api.get('/stats/me/tracks');\n  return response.data;\n};\nexport default api;","map":{"version":3,"names":["axios","api","create","baseURL","withCredentials","fetchSpotifyDataWithQuip","_spotifyData$data","_spotifyData$data$top","spotifyData","get","data","topArtists","length","artistNames","map","artist","name","slice","join","quipResponse","post","statDescription","stats","quip","fetchUserProfile","response","fetchTopArtists","fetchTopTracks"],"sources":["C:/Users/adwit/Better-Spotify-Wrapped/client/src/utils/api.js"],"sourcesContent":["import axios from 'axios';\r\n\r\nconst api = axios.create({\r\n  baseURL: 'http://localhost:3001/api',\r\n  withCredentials: true,\r\n});\r\n\r\nexport const fetchSpotifyDataWithQuip = async () => {\r\n  const spotifyData = await api.get('/fetch-spotify-data');\r\n  \r\n  if (spotifyData.data?.topArtists?.length) {\r\n    const artistNames = spotifyData.data.topArtists\r\n      .map(artist => artist.name)\r\n      .slice(0, 5)\r\n      .join(', ');\r\n      \r\n    const quipResponse = await api.post('/generate-quip', {\r\n      statDescription: `Your top artists are: ${artistNames}`\r\n    });\r\n    \r\n    return {\r\n      stats: spotifyData.data,\r\n      quip: quipResponse.data.quip\r\n    };\r\n  }\r\n  \r\n  return {\r\n    stats: spotifyData.data,\r\n    quip: ''\r\n  };\r\n};\r\n\r\nexport const fetchUserProfile = async () => {\r\n  const response = await api.get('/user-profile');\r\n  return response.data;\r\n};\r\n\r\nexport const fetchTopArtists = async () => {\r\n  const response = await api.get('/stats/me/artists');\r\n  return response.data;\r\n};\r\n\r\nexport const fetchTopTracks = async () => {\r\n  const response = await api.get('/stats/me/tracks');\r\n  return response.data;\r\n};\r\n\r\nexport default api;"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,MAAMC,GAAG,GAAGD,KAAK,CAACE,MAAM,CAAC;EACvBC,OAAO,EAAE,2BAA2B;EACpCC,eAAe,EAAE;AACnB,CAAC,CAAC;AAEF,OAAO,MAAMC,wBAAwB,GAAG,MAAAA,CAAA,KAAY;EAAA,IAAAC,iBAAA,EAAAC,qBAAA;EAClD,MAAMC,WAAW,GAAG,MAAMP,GAAG,CAACQ,GAAG,CAAC,qBAAqB,CAAC;EAExD,KAAAH,iBAAA,GAAIE,WAAW,CAACE,IAAI,cAAAJ,iBAAA,gBAAAC,qBAAA,GAAhBD,iBAAA,CAAkBK,UAAU,cAAAJ,qBAAA,eAA5BA,qBAAA,CAA8BK,MAAM,EAAE;IACxC,MAAMC,WAAW,GAAGL,WAAW,CAACE,IAAI,CAACC,UAAU,CAC5CG,GAAG,CAACC,MAAM,IAAIA,MAAM,CAACC,IAAI,CAAC,CAC1BC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CACXC,IAAI,CAAC,IAAI,CAAC;IAEb,MAAMC,YAAY,GAAG,MAAMlB,GAAG,CAACmB,IAAI,CAAC,gBAAgB,EAAE;MACpDC,eAAe,EAAE,yBAAyBR,WAAW;IACvD,CAAC,CAAC;IAEF,OAAO;MACLS,KAAK,EAAEd,WAAW,CAACE,IAAI;MACvBa,IAAI,EAAEJ,YAAY,CAACT,IAAI,CAACa;IAC1B,CAAC;EACH;EAEA,OAAO;IACLD,KAAK,EAAEd,WAAW,CAACE,IAAI;IACvBa,IAAI,EAAE;EACR,CAAC;AACH,CAAC;AAED,OAAO,MAAMC,gBAAgB,GAAG,MAAAA,CAAA,KAAY;EAC1C,MAAMC,QAAQ,GAAG,MAAMxB,GAAG,CAACQ,GAAG,CAAC,eAAe,CAAC;EAC/C,OAAOgB,QAAQ,CAACf,IAAI;AACtB,CAAC;AAED,OAAO,MAAMgB,eAAe,GAAG,MAAAA,CAAA,KAAY;EACzC,MAAMD,QAAQ,GAAG,MAAMxB,GAAG,CAACQ,GAAG,CAAC,mBAAmB,CAAC;EACnD,OAAOgB,QAAQ,CAACf,IAAI;AACtB,CAAC;AAED,OAAO,MAAMiB,cAAc,GAAG,MAAAA,CAAA,KAAY;EACxC,MAAMF,QAAQ,GAAG,MAAMxB,GAAG,CAACQ,GAAG,CAAC,kBAAkB,CAAC;EAClD,OAAOgB,QAAQ,CAACf,IAAI;AACtB,CAAC;AAED,eAAeT,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}